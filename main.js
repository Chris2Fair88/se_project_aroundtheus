!function(){"use strict";class e{constructor(e,t,s,r,o){let{name:n,link:i,_id:a,isLiked:l}=e;this._name=n,this._link=i,this._cardSelector=t,this._handleImageClick=s,this._handleDeleteCard=r,this._handleLikeClick=o,this._cardId=a,this._likeButton=null,this._isLiked=l}_setEventListeners(){this._likeButton=this._cardElement.querySelector(".card__like-button"),this._likeButton.addEventListener("click",(()=>{this._likeButton.classList.toggle("card__like-button_active"),this._handleLikeClick(this)})),this._cardElement.querySelector(".cards__delete-button").addEventListener("click",(()=>{this._handleDeleteCard(this)})),this._cardImageEl.addEventListener("click",(()=>this._handleImageClick(this._name,this._link)))}getView(){return this._cardElement=document.querySelector(this._cardSelector).content.querySelector(".card").cloneNode(!0),this._cardImageEl=this._cardElement.querySelector(".card__image"),this._cardtitleEl=this._cardElement.querySelector(".card__title"),this._cardImageEl.src=this._link,this._cardImageEl.alt=this._name,this._cardtitleEl.textContent=this._name,this._setEventListeners(),this._cardElement}getId(){return this._cardId}deleteCard(){this._cardElement.remove()}isLiked(){return this._isLiked}}class t{constructor(e,t){this._inputSelector=e.inputSelector,this._submitButtonSelector=e.submitButtonSelector,this._inactiveButtonClass=e.inactiveButtonClass,this._inputErrorClass=e.inputErrorClass,this._form=t}_showInputError(e){const t=this._form.querySelector(`#${e.id}-error`);e.classList.add(this._inputErrorClass),t.textContent=e.validationMessage,t.classList.add(this._errorClass)}_hideInputError(e){const t=this._form.querySelector(`#${e.id}-error`);e.classList.remove(this._inputErrorClass),t.textContent="",t.classList.remove(this._errorClass)}_checkInputValidity(e){e.validity.valid?this._hideInputError(e):this._showInputError(e)}_toggleButtonState(){let e=!1;this._inputList.forEach((t=>{t.validity.valid||(e=!0)})),e?this.disableButton():(this._submitButton.classList.remove(this._inactiveButtonClass),this._submitButton.disabled=!1)}_setEventListeners(){this._inputList=[...this._form.querySelectorAll(this._inputSelector)],this._submitButton=this._form.querySelector(this._submitButtonSelector),this._toggleButtonState(),this._inputList.forEach((e=>{e.addEventListener("input",(t=>{this._checkInputValidity(e),this._toggleButtonState()}))}))}enableValidation(){this._form.addEventListener("submit",(e=>{e.preventDefault()})),this._setEventListeners()}disableButton(){this._submitButton.classList.add(this._inactiveButtonClass),this._submitButton.disabled=!0}}class s{constructor(e){let{modalSelector:t}=e;this._modalElement=document.querySelector(t)}open(e){this._modalElement.classList.add("modal_opened"),document.addEventListener("keydown",this._handleEscClose),this._modalElement.addEventListener("click",this._handleCloseOverlay)}close(e){this._modalElement.classList.remove("modal_opened"),document.removeEventListener("keydown",this._handleEscClose),this._modalElement.removeEventListener("click",this._handleCloseOverlay)}_handleEscClose=e=>{"Escape"===e.key&&this.close()};_handleCloseOverlay=e=>{e.target.classList.contains("modal_opened")&&this.close()};setEventListeners(){this._modalElement.querySelector(".modal__close").addEventListener("click",(()=>{this.close()}))}}class r extends s{constructor(e,t){super({modalSelector:e}),this._handleFormSubmit=t,this._form=this._modalElement.querySelector(".modal__form"),this._submitButton=this._form.querySelector(".modal__button"),this._submitButtonTextContent=this._submitButton.textContent}_getInputValues(){return this._inputList=this._modalElement.querySelectorAll(".modal__input"),this._formValues={},this._inputList.forEach((e=>{this._formValues[e.name]=e.value})),this._formValues}setEventListeners(){super.setEventListeners(),this._form.addEventListener("submit",(e=>{e.preventDefault(),this._handleFormSubmit(this._getInputValues())}))}setLoading(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Saving...";this._submitButton.textContent=e?t:this._submitButtonTextContent}}const o=document.querySelector("#profile-edit-button"),n=document.querySelector("#profile-edit-modal"),i=(document.querySelector("#modal-close-button"),document.querySelector(".profile__title"),document.querySelector(".profile__description"),document.querySelector("#profile-title-input")),a=document.querySelector("#profile-description-input"),l=n.querySelector(".modal__form"),c=document.querySelector(".profile__image-edit"),d=document.querySelector(".profile__add-button"),u=document.querySelector("#add-card-modal"),m=(document.querySelector("#add-image-close-button"),document.querySelector(".modal__input_type_title"),document.querySelector(".modal__input_type_url"),document.querySelector("#image-title-input"),document.querySelector("#image-description-input"),document.querySelector(".cards__list"),u.querySelector(".modal__form")),h=(document.querySelector("#card-image-modal"),document.querySelector(".modal__image"),document.querySelector(".modal__description"),document.querySelector("#image-modal-close-button"),{inputSelector:".modal__input",submitButtonSelector:".modal__button",inactiveButtonClass:"modal__button_disabled",inputErrorClass:"modal__input_type_error",errorClass:"modal__error_visible"}),_=new class{constructor(e,t,s){this._nameElement=document.querySelector(e),this._descriptionElement=document.querySelector(t),this._avatarElement=document.querySelector(s)}getUserInfo(){return{name:this._nameElement.textContent,job:this._descriptionElement.textContent}}setUserInfo(e){let{name:t,description:s}=e;this._nameElement.textContent=t,this._descriptionElement.textContent=s}setAvatar(e){this._avatarElement.src=e}}(".profile__title",".profile__description",".profile__image"),p=new class extends s{constructor(e){super({modalSelector:e}),this._modalImage=this._modalElement.querySelector(".modal__image"),this._modalTitle=this._modalElement.querySelector(".modal__description")}open(e){this._modalImage.src=e.link,this._modalImage.alt=e.name,this._modalTitle.textContent=e.name,super.open()}}("#card-image-modal");function E(e,t){const s={name:e,link:t};p.open(s)}function f(e){y.open(),y.setSubmitFunc((()=>{C.deleteCard(e.getId()).then((()=>{e.deleteCard(),y.close()})).then((e=>e.ok?e.json():Promise.reject(`Error: ${e.status}`))).catch((e=>{console.error("An error occurred while trying to delete the card: ${err}")}))}))}function v(e){!0===e.isLiked()?C.addLike(e.getId()).then((e=>{})).then((e=>e.ok?e.json():Promise.reject(`Error: ${e.status}`))).catch((e=>{console.error(e)})):C.deleteLike(e.getId()).then((e=>{})).then((e=>e.ok?e.json():Promise.reject(`Error: ${e.status}`))).catch((e=>{console.error(e)}))}o.addEventListener("click",(()=>{const e=_.getUserInfo();i.value=e.name,a.value=e.job})),p.setEventListeners();const g=new class{constructor(e,t){let{items:s,renderer:r}=e;this._items=s,this._renderer=r,this._container=document.querySelector(t)}renderItems(e){e.forEach((e=>{this._renderer(e)}))}addItem(e){this._container.prepend(e)}}({items:[{name:"Yosemite Valley",link:" https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/yosemite.jpg"},{name:"Lake Louise",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/lake-louise.jpg"},{name:"Bald Mountains",link:" https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/bald-mountains.jpg"},{name:"Latemar",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/latemar.jpg"},{name:"Vanoise National Park",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/vanoise.jpg"},{name:"Lago di Braies",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/lago.jpg"}],renderer:b},".cards__list");function b(t){const s=new e(t,"#card-template",E,f,v).getView();g.addItem(s)}const S=new r("#add-card-modal",(e=>{S.setLoading(!0);const t={name:e.title,link:e.url};C.createNewCard(t).then((e=>{b(e),S.close(),m.reset(),L.disableButton()})).then((e=>e.ok?e.json():Promise.reject(`Error: ${e.status}`))).catch((e=>{console.error(e)})).finally((()=>{S.setLoading(!1)}))}));S.setEventListeners(),d.addEventListener("click",(()=>{S.open()}));const k=new r("#profile-edit-modal",(e=>{k.setLoading(!0),C.setProfileInfo({name:e.title,about:e.description}).then((e=>{_.setUserInfo({name:e.name,description:e.about}),l.reset(),k.close()})).then((e=>e.ok?e.json():Promise.reject(`Error: ${e.status}`))).finally((()=>{k.setLoading(!1)}))})),y=new class extends s{constructor(e){super({modalSelector:e}),this._modalForm=this._modalElement.querySelector(".modal__form"),this._submitButton=this._modalForm.querySelector(".modal__button"),this._submitButtonTextContent=this._submitButton.textContent}setSubmitFunc(e){this._SubmitFunc=e}setEventListeners(){super.setEventListeners(),this._modalForm.addEventListener("submit",(e=>{e.preventDefault(),this._SubmitFunc()}))}setLoading(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Saving...";this._submitButton.textContent=e?t:this._submitButtonTextContent}}("#delete-card-modal");y.setEventListeners(),k.setEventListeners(),o.addEventListener("click",(()=>{k.open()}));const L=new t(h,m);L.enableValidation(),new t(h,l).enableValidation();const C=new class{constructor(e){this._baseUrl=e.baseUrl,this._headers=e.headers}getInitialCards(){return fetch(`${this._baseUrl}/cards`,{headers:this._headers}).then((e=>e.ok?e.json():Promise.reject(`Error: ${e.status}`)))}createNewCard(e){return fetch(`${this._baseUrl}/cards`,{method:"POST",headers:this._headers,body:JSON.stringify({name:e.name,link:e.link})}).then((e=>e.ok?e.json():Promise.reject(`Error: ${e.status}`)))}deleteCard(e){return fetch(`${this._baseUrl}/cards/${e}`,{method:"DELETE",headers:this._headers}).then((e=>e.ok?e.json():Promise.reject(`Error: ${e.status}`)))}getUserInfo(){return fetch(`${this._baseUrl}/users/me`,{method:"GET",headers:this._headers}).then((e=>e.ok?e.json():Promise.reject(`Error: ${e.status}`)))}setProfileInfo(e){let{name:t,about:s}=e;return fetch(`${this._baseUrl}/users/me`,{method:"PATCH",headers:this._headers,body:JSON.stringify({name:t,about:s})}).then((e=>e.ok?e.json():Promise.reject(`Error: ${e.status}`)))}getAppInfo(){return Promise.all([this.getUserInfo(),this.getInitialCards()])}addLike(e){return fetch(`${this._baseUrl}/cards/${e}/likes`,{method:"PUT",headers:this._headers}).then((e=>e.ok?e.json():Promise.reject(`Error: ${e.status}`)))}deleteLike(e){return fetch(`${this._baseUrl}/cards/${e}/likes`,{method:"DELETE",headers:this._headers}).then((e=>e.ok?e.json():Promise.reject(`Error: ${e.status}`)))}setAvatar(e){return fetch(`${this._baseUrl}/users/me/avatar`,{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e})}).then((e=>e.ok?e.json():Promise.reject(`Error: ${e.status}`)))}}({baseUrl:"https://around-api.en.tripleten-services.com/v1",headers:{authorization:"34309ff6-916f-42f6-9f50-594fbb533e2c","Content-Type":"application/json"}});C.getInitialCards().then((e=>{g.renderItems(e)})).then((e=>e.ok?e.json():Promise.reject(`Error: ${e.status}`))).catch((e=>{console.error(e)})),C.getUserInfo().then((e=>{_.setUserInfo({name:e.name,description:e.about}),_.setAvatar(e.avatar)})).catch((e=>{console.error(e)}));const j=new r("#avatar-edit-modal",(e=>{j.setLoading(!0),C.setAvatar(e.avatar).then((e=>{_.setAvatar(e.avatar),j.close()})).then((e=>e.ok?e.json():Promise.reject(`Error: ${e.status}`))).catch((e=>{console.error(e)})).finally((()=>{j.setLoading(!1)}))}));j.setEventListeners(),c.addEventListener("click",(()=>{j.open()}))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QixFQUFnQmhHLFlBQVcsRUFBTSxHQUNuQyxJQUdWZ0csRUFBZ0IzRyxvQkFDaEJzQixFQUFpQm5GLGlCQUFpQixTQUFTLEtBQ3ZDd0ssRUFBZ0JwSCxNQUFNLEciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zZV9wcm9qZWN0X2Fyb3VuZHRoZXVzLy4vc3JjL2NvbXBvbmVudHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly9zZV9wcm9qZWN0X2Fyb3VuZHRoZXVzLy4vc3JjL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly9zZV9wcm9qZWN0X2Fyb3VuZHRoZXVzLy4vc3JjL2NvbXBvbmVudHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9hcm91bmR0aGV1cy8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9hcm91bmR0aGV1cy8uL3NyYy91dGlscy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9hcm91bmR0aGV1cy8uL3NyYy9wYWdlcy9pbmRleC5qcyIsIndlYnBhY2s6Ly9zZV9wcm9qZWN0X2Fyb3VuZHRoZXVzLy4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9hcm91bmR0aGV1cy8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlcy5qcyIsIndlYnBhY2s6Ly9zZV9wcm9qZWN0X2Fyb3VuZHRoZXVzLy4vc3JjL2NvbXBvbmVudHMvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly9zZV9wcm9qZWN0X2Fyb3VuZHRoZXVzLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoQ29uZmlybS5qcyIsIndlYnBhY2s6Ly9zZV9wcm9qZWN0X2Fyb3VuZHRoZXVzLy4vc3JjL2NvbXBvbmVudHMvQVBJLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGNsYXNzIENhcmQge1xyXG4gICAgY29uc3RydWN0b3IoXHJcbiAgICAgICAgeyBuYW1lLCBsaW5rLCBfaWQsIGlzTGlrZWQgfSxcclxuICAgICAgICBjYXJkU2VsZWN0b3IsXHJcbiAgICAgICAgaGFuZGxlSW1hZ2VDbGljayxcclxuICAgICAgICBoYW5kbGVEZWxldGVDYXJkLFxyXG4gICAgICAgIGhhbmRsZUxpa2VDbGlja1xyXG4gICAgKSB7XHJcbiAgICAgICAgdGhpcy5fbmFtZSA9IG5hbWU7XHJcbiAgICAgICAgdGhpcy5fbGluayA9IGxpbms7XHJcbiAgICAgICAgdGhpcy5fY2FyZFNlbGVjdG9yID0gY2FyZFNlbGVjdG9yO1xyXG4gICAgICAgIHRoaXMuX2hhbmRsZUltYWdlQ2xpY2sgPSBoYW5kbGVJbWFnZUNsaWNrO1xyXG4gICAgICAgIHRoaXMuX2hhbmRsZURlbGV0ZUNhcmQgPSBoYW5kbGVEZWxldGVDYXJkO1xyXG4gICAgICAgIHRoaXMuX2hhbmRsZUxpa2VDbGljayA9IGhhbmRsZUxpa2VDbGljaztcclxuICAgICAgICB0aGlzLl9jYXJkSWQgPSBfaWQ7XHJcbiAgICAgICAgdGhpcy5fbGlrZUJ1dHRvbiA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5faXNMaWtlZCA9IGlzTGlrZWQ7XHJcbiAgICB9XHJcblxyXG4gICAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgICAgIHRoaXMuX2xpa2VCdXR0b24gPVxyXG4gICAgICAgICAgICB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2xpa2UtYnV0dG9uXCIpO1xyXG5cclxuICAgICAgICB0aGlzLl9saWtlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuX2xpa2VCdXR0b24uY2xhc3NMaXN0LnRvZ2dsZShcImNhcmRfX2xpa2UtYnV0dG9uX2FjdGl2ZVwiKTtcclxuICAgICAgICAgICAgdGhpcy5faGFuZGxlTGlrZUNsaWNrKHRoaXMpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLl9jYXJkRWxlbWVudFxyXG4gICAgICAgICAgICAucXVlcnlTZWxlY3RvcihcIi5jYXJkc19fZGVsZXRlLWJ1dHRvblwiKVxyXG4gICAgICAgICAgICAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2hhbmRsZURlbGV0ZUNhcmQodGhpcyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLl9jYXJkSW1hZ2VFbC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT5cclxuICAgICAgICAgICAgdGhpcy5faGFuZGxlSW1hZ2VDbGljayh0aGlzLl9uYW1lLCB0aGlzLl9saW5rKVxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0VmlldygpIHtcclxuICAgICAgICB0aGlzLl9jYXJkRWxlbWVudCA9IGRvY3VtZW50XHJcbiAgICAgICAgICAgIC5xdWVyeVNlbGVjdG9yKHRoaXMuX2NhcmRTZWxlY3RvcilcclxuICAgICAgICAgICAgLmNvbnRlbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkXCIpXHJcbiAgICAgICAgICAgIC5jbG9uZU5vZGUodHJ1ZSk7XHJcblxyXG4gICAgICAgIHRoaXMuX2NhcmRJbWFnZUVsID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19pbWFnZVwiKTtcclxuICAgICAgICB0aGlzLl9jYXJkdGl0bGVFbCA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fdGl0bGVcIik7XHJcbiAgICAgICAgdGhpcy5fY2FyZEltYWdlRWwuc3JjID0gdGhpcy5fbGluaztcclxuICAgICAgICB0aGlzLl9jYXJkSW1hZ2VFbC5hbHQgPSB0aGlzLl9uYW1lO1xyXG4gICAgICAgIHRoaXMuX2NhcmR0aXRsZUVsLnRleHRDb250ZW50ID0gdGhpcy5fbmFtZTtcclxuICAgICAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9jYXJkRWxlbWVudDtcclxuICAgIH1cclxuXHJcbiAgICBnZXRJZCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fY2FyZElkO1xyXG4gICAgfVxyXG5cclxuICAgIGRlbGV0ZUNhcmQoKSB7XHJcbiAgICAgICAgdGhpcy5fY2FyZEVsZW1lbnQucmVtb3ZlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgaXNMaWtlZCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5faXNMaWtlZDtcclxuICAgIH1cclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBGb3JtVmFsaWRhdG9yIHtcclxuICAgIGNvbnN0cnVjdG9yKHNldHRpbmdzLCBmb3JtRWwpIHtcclxuICAgICAgICB0aGlzLl9pbnB1dFNlbGVjdG9yID0gc2V0dGluZ3MuaW5wdXRTZWxlY3RvcjtcclxuICAgICAgICB0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3RvciA9IHNldHRpbmdzLnN1Ym1pdEJ1dHRvblNlbGVjdG9yO1xyXG4gICAgICAgIHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MgPSBzZXR0aW5ncy5pbmFjdGl2ZUJ1dHRvbkNsYXNzO1xyXG4gICAgICAgIHRoaXMuX2lucHV0RXJyb3JDbGFzcyA9IHNldHRpbmdzLmlucHV0RXJyb3JDbGFzcztcclxuICAgICAgICB0aGlzLl9mb3JtID0gZm9ybUVsO1xyXG4gICAgfVxyXG5cclxuICAgIF9zaG93SW5wdXRFcnJvcihpbnB1dEVsKSB7XHJcbiAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlRWwgPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3IoYCMke2lucHV0RWwuaWR9LWVycm9yYCk7XHJcbiAgICAgICAgaW5wdXRFbC5jbGFzc0xpc3QuYWRkKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XHJcbiAgICAgICAgZXJyb3JNZXNzYWdlRWwudGV4dENvbnRlbnQgPSBpbnB1dEVsLnZhbGlkYXRpb25NZXNzYWdlO1xyXG4gICAgICAgIGVycm9yTWVzc2FnZUVsLmNsYXNzTGlzdC5hZGQodGhpcy5fZXJyb3JDbGFzcyk7XHJcbiAgICB9XHJcblxyXG4gICAgX2hpZGVJbnB1dEVycm9yKGlucHV0RWwpIHtcclxuICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2VFbCA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvcihgIyR7aW5wdXRFbC5pZH0tZXJyb3JgKTtcclxuICAgICAgICBpbnB1dEVsLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcclxuICAgICAgICBlcnJvck1lc3NhZ2VFbC50ZXh0Q29udGVudCA9IFwiXCI7XHJcbiAgICAgICAgZXJyb3JNZXNzYWdlRWwuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9lcnJvckNsYXNzKTtcclxuICAgIH1cclxuXHJcbiAgICBfY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWwpIHtcclxuICAgICAgICBpZiAoIWlucHV0RWwudmFsaWRpdHkudmFsaWQpIHtcclxuICAgICAgICAgICAgdGhpcy5fc2hvd0lucHV0RXJyb3IoaW5wdXRFbCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIF90b2dnbGVCdXR0b25TdGF0ZSgpIHtcclxuICAgICAgICBsZXQgZm91bmRJbnZhbGlkID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWwpID0+IHtcclxuICAgICAgICAgICAgaWYgKCFpbnB1dEVsLnZhbGlkaXR5LnZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICBmb3VuZEludmFsaWQgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgaWYgKGZvdW5kSW52YWxpZCkge1xyXG4gICAgICAgICAgICB0aGlzLmRpc2FibGVCdXR0b24oKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLl9zdWJtaXRCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcclxuICAgICAgICAgICAgdGhpcy5fc3VibWl0QnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIF9zZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgICAgICB0aGlzLl9pbnB1dExpc3QgPSBbLi4udGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX2lucHV0U2VsZWN0b3IpXTtcclxuICAgICAgICB0aGlzLl9zdWJtaXRCdXR0b24gPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgICAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yXHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcclxuICAgICAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbCkgPT4ge1xyXG4gICAgICAgICAgICBpbnB1dEVsLmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWwpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgZW5hYmxlVmFsaWRhdGlvbigpIHtcclxuICAgICAgICB0aGlzLl9mb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGUpID0+IHtcclxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZGlzYWJsZUJ1dHRvbigpIHtcclxuICAgICAgICB0aGlzLl9zdWJtaXRCdXR0b24uY2xhc3NMaXN0LmFkZCh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcclxuICAgICAgICB0aGlzLl9zdWJtaXRCdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwIHtcclxuICAgIGNvbnN0cnVjdG9yKHsgbW9kYWxTZWxlY3RvciB9KSB7XHJcbiAgICAgICAgdGhpcy5fbW9kYWxFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihtb2RhbFNlbGVjdG9yKTtcclxuICAgIH1cclxuXHJcbiAgICBvcGVuKG1vZGFsKSB7XHJcbiAgICAgICAgdGhpcy5fbW9kYWxFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJtb2RhbF9vcGVuZWRcIik7XHJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xyXG4gICAgICAgIHRoaXMuX21vZGFsRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5faGFuZGxlQ2xvc2VPdmVybGF5KTtcclxuICAgIH1cclxuXHJcbiAgICBjbG9zZShtb2RhbCkge1xyXG4gICAgICAgIHRoaXMuX21vZGFsRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwibW9kYWxfb3BlbmVkXCIpO1xyXG4gICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcclxuICAgICAgICB0aGlzLl9tb2RhbEVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcclxuICAgICAgICAgICAgXCJjbGlja1wiLFxyXG4gICAgICAgICAgICB0aGlzLl9oYW5kbGVDbG9zZU92ZXJsYXlcclxuICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIF9oYW5kbGVFc2NDbG9zZSA9IChlKSA9PiB7XHJcbiAgICAgICAgaWYgKGUua2V5ID09PSBcIkVzY2FwZVwiKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIF9oYW5kbGVDbG9zZU92ZXJsYXkgPSAoZSkgPT4ge1xyXG4gICAgICAgIGlmIChlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJtb2RhbF9vcGVuZWRcIikpIHtcclxuICAgICAgICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICAgICAgdGhpcy5fbW9kYWxFbGVtZW50XHJcbiAgICAgICAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19jbG9zZVwiKVxyXG4gICAgICAgICAgICAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xyXG4gICAgY29uc3RydWN0b3IobW9kYWxTZWxlY3RvciwgaGFuZGxlRm9ybVN1Ym1pdCkge1xyXG4gICAgICAgIHN1cGVyKHsgbW9kYWxTZWxlY3RvciB9KTtcclxuICAgICAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0ID0gaGFuZGxlRm9ybVN1Ym1pdDtcclxuICAgICAgICB0aGlzLl9mb3JtID0gdGhpcy5fbW9kYWxFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2Zvcm1cIik7XHJcbiAgICAgICAgdGhpcy5fc3VibWl0QnV0dG9uID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19idXR0b25cIik7XHJcbiAgICAgICAgdGhpcy5fc3VibWl0QnV0dG9uVGV4dENvbnRlbnQgPSB0aGlzLl9zdWJtaXRCdXR0b24udGV4dENvbnRlbnQ7XHJcbiAgICB9XHJcblxyXG4gICAgX2dldElucHV0VmFsdWVzKCkge1xyXG4gICAgICAgIHRoaXMuX2lucHV0TGlzdCA9IHRoaXMuX21vZGFsRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLm1vZGFsX19pbnB1dFwiKTtcclxuICAgICAgICB0aGlzLl9mb3JtVmFsdWVzID0ge307XHJcbiAgICAgICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0KSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuX2Zvcm1WYWx1ZXNbaW5wdXQubmFtZV0gPSBpbnB1dC52YWx1ZTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2Zvcm1WYWx1ZXM7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICAgICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgICAgICB0aGlzLl9mb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGV2dCkgPT4ge1xyXG4gICAgICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCh0aGlzLl9nZXRJbnB1dFZhbHVlcygpKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRMb2FkaW5nKGlzTG9hZGluZywgbG9hZGluZ1RleHQgPSBcIlNhdmluZy4uLlwiKSB7XHJcbiAgICAgICAgaWYgKGlzTG9hZGluZykge1xyXG4gICAgICAgICAgICB0aGlzLl9zdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSBsb2FkaW5nVGV4dDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLl9zdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSB0aGlzLl9zdWJtaXRCdXR0b25UZXh0Q29udGVudDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIiwiZXhwb3J0IHtcclxuICAgIHNldHRpbmdzLFxyXG4gICAgaW5pdGlhbENhcmRzLFxyXG4gICAgcHJvZmlsZUVkaXRCdXR0b24sXHJcbiAgICBwcm9maWxlRWRpdE1vZGFsLFxyXG4gICAgcHJvZmlsZU1vZGFsQ2xvc2VCdXR0b24sXHJcbiAgICBwcm9maWxlVGl0bGUsXHJcbiAgICBwcm9maWxlRGVzY3JpcHRpb24sXHJcbiAgICBwcm9maWxlVGl0bGVJbnB1dCxcclxuICAgIHByb2ZpbGVEZXNjcmlwdGlvbklucHV0LFxyXG4gICAgcHJvZmlsZUVkaXRGb3JtLFxyXG4gICAgYWRkQ2FyZEJ1dHRvbixcclxuICAgIGFkZENhcmRNb2RhbCxcclxuICAgIGFkZEltYWdlQ2xvc2VCdXR0b24sXHJcbiAgICBhZGRDYXJkVGl0bGUsXHJcbiAgICBhZGRDYXJkVVJMLFxyXG4gICAgYWRkQ2FyZFRpdGxlSW5wdXQsXHJcbiAgICBhZGRDYXJkVVJMSW5wdXQsXHJcbiAgICBjYXJkTGlzdEVsLFxyXG4gICAgYWRkQ2FyZEZvcm0sXHJcbiAgICBpbWFnZU1vZGFsLFxyXG4gICAgaW1hZ2VNb2RhbEltZyxcclxuICAgIGltYWdlTW9kYWxUZXh0LFxyXG4gICAgaW1hZ2VNb2RhbENsb3NlQnV0dG9uLFxyXG4gICAgYXZhdGFyRWRpdEJ1dHRvbixcclxufTtcclxuXHJcbmNvbnN0IGluaXRpYWxDYXJkcyA9IFtcclxuICAgIHtcclxuICAgICAgICBuYW1lOiBcIllvc2VtaXRlIFZhbGxleVwiLFxyXG4gICAgICAgIGxpbms6IFwiIGh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvYXJvdW5kLXByb2plY3QveW9zZW1pdGUuanBnXCIsXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIG5hbWU6IFwiTGFrZSBMb3Vpc2VcIixcclxuICAgICAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvYXJvdW5kLXByb2plY3QvbGFrZS1sb3Vpc2UuanBnXCIsXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIG5hbWU6IFwiQmFsZCBNb3VudGFpbnNcIixcclxuICAgICAgICBsaW5rOiBcIiBodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL2Fyb3VuZC1wcm9qZWN0L2JhbGQtbW91bnRhaW5zLmpwZ1wiLFxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICBuYW1lOiBcIkxhdGVtYXJcIixcclxuICAgICAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvYXJvdW5kLXByb2plY3QvbGF0ZW1hci5qcGdcIixcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgbmFtZTogXCJWYW5vaXNlIE5hdGlvbmFsIFBhcmtcIixcclxuICAgICAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvYXJvdW5kLXByb2plY3QvdmFub2lzZS5qcGdcIixcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgbmFtZTogXCJMYWdvIGRpIEJyYWllc1wiLFxyXG4gICAgICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9hcm91bmQtcHJvamVjdC9sYWdvLmpwZ1wiLFxyXG4gICAgfSxcclxuXTtcclxuXHJcbmNvbnN0IHByb2ZpbGVFZGl0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcm9maWxlLWVkaXQtYnV0dG9uXCIpO1xyXG5jb25zdCBwcm9maWxlRWRpdE1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcm9maWxlLWVkaXQtbW9kYWxcIik7XHJcbmNvbnN0IHByb2ZpbGVNb2RhbENsb3NlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNtb2RhbC1jbG9zZS1idXR0b25cIik7XHJcbmNvbnN0IHByb2ZpbGVUaXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fdGl0bGVcIik7XHJcbmNvbnN0IHByb2ZpbGVEZXNjcmlwdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fZGVzY3JpcHRpb25cIik7XHJcbmNvbnN0IHByb2ZpbGVUaXRsZUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcm9maWxlLXRpdGxlLWlucHV0XCIpO1xyXG5jb25zdCBwcm9maWxlRGVzY3JpcHRpb25JbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICBcIiNwcm9maWxlLWRlc2NyaXB0aW9uLWlucHV0XCJcclxuKTtcclxuY29uc3QgcHJvZmlsZUVkaXRGb3JtID0gcHJvZmlsZUVkaXRNb2RhbC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19mb3JtXCIpO1xyXG5jb25zdCBhdmF0YXJFZGl0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19pbWFnZS1lZGl0XCIpO1xyXG5cclxuY29uc3QgYWRkQ2FyZEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYWRkLWJ1dHRvblwiKTtcclxuY29uc3QgYWRkQ2FyZE1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNhZGQtY2FyZC1tb2RhbFwiKTtcclxuY29uc3QgYWRkSW1hZ2VDbG9zZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjYWRkLWltYWdlLWNsb3NlLWJ1dHRvblwiKTtcclxuY29uc3QgYWRkQ2FyZFRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9faW5wdXRfdHlwZV90aXRsZVwiKTtcclxuY29uc3QgYWRkQ2FyZFVSTCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2lucHV0X3R5cGVfdXJsXCIpO1xyXG5jb25zdCBhZGRDYXJkVGl0bGVJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjaW1hZ2UtdGl0bGUtaW5wdXRcIik7XHJcbmNvbnN0IGFkZENhcmRVUkxJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjaW1hZ2UtZGVzY3JpcHRpb24taW5wdXRcIik7XHJcbmNvbnN0IGNhcmRMaXN0RWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRzX19saXN0XCIpO1xyXG5jb25zdCBhZGRDYXJkRm9ybSA9IGFkZENhcmRNb2RhbC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19mb3JtXCIpO1xyXG5cclxuY29uc3QgaW1hZ2VNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjY2FyZC1pbWFnZS1tb2RhbFwiKTtcclxuY29uc3QgaW1hZ2VNb2RhbEltZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2ltYWdlXCIpO1xyXG5jb25zdCBpbWFnZU1vZGFsVGV4dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2Rlc2NyaXB0aW9uXCIpO1xyXG5jb25zdCBpbWFnZU1vZGFsQ2xvc2VCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgXCIjaW1hZ2UtbW9kYWwtY2xvc2UtYnV0dG9uXCJcclxuKTtcclxuXHJcbmNvbnN0IHNldHRpbmdzID0ge1xyXG4gICAgaW5wdXRTZWxlY3RvcjogXCIubW9kYWxfX2lucHV0XCIsXHJcbiAgICBzdWJtaXRCdXR0b25TZWxlY3RvcjogXCIubW9kYWxfX2J1dHRvblwiLFxyXG4gICAgaW5hY3RpdmVCdXR0b25DbGFzczogXCJtb2RhbF9fYnV0dG9uX2Rpc2FibGVkXCIsXHJcbiAgICBpbnB1dEVycm9yQ2xhc3M6IFwibW9kYWxfX2lucHV0X3R5cGVfZXJyb3JcIixcclxuICAgIGVycm9yQ2xhc3M6IFwibW9kYWxfX2Vycm9yX3Zpc2libGVcIixcclxufTtcclxuIiwiaW1wb3J0IFwiLi4vcGFnZXMvaW5kZXguY3NzXCI7XHJcbmltcG9ydCBDYXJkIGZyb20gXCIuLi9jb21wb25lbnRzL0NhcmQuanNcIjtcclxuaW1wb3J0IEZvcm1WYWxpZGF0b3IgZnJvbSBcIi4uL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qc1wiO1xyXG5pbXBvcnQgVXNlckluZm8gZnJvbSBcIi4uL2NvbXBvbmVudHMvVXNlckluZm8uanNcIjtcclxuaW1wb3J0IFBvcHVwV2l0aEZvcm0gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qc1wiO1xyXG5pbXBvcnQgUG9wdXAgZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXAuanNcIjtcclxuaW1wb3J0IFNlY3Rpb24gZnJvbSBcIi4uL2NvbXBvbmVudHMvU2VjdGlvbi5qc1wiO1xyXG5pbXBvcnQgUG9wdXBXaXRoSW1hZ2VzIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlcy5qc1wiO1xyXG5pbXBvcnQgUG9wdXBXaXRoQ29uZmlybSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhDb25maXJtLmpzXCI7XHJcbmltcG9ydCBBcGkgZnJvbSBcIi4uL2NvbXBvbmVudHMvQVBJLmpzXCI7XHJcblxyXG5pbXBvcnQge1xyXG4gICAgc2V0dGluZ3MsXHJcbiAgICBpbml0aWFsQ2FyZHMsXHJcbiAgICBhdmF0YXJFZGl0QnV0dG9uLFxyXG4gICAgcHJvZmlsZUVkaXRCdXR0b24sXHJcbiAgICBwcm9maWxlRWRpdE1vZGFsLFxyXG4gICAgcHJvZmlsZU1vZGFsQ2xvc2VCdXR0b24sXHJcbiAgICBwcm9maWxlVGl0bGUsXHJcbiAgICBwcm9maWxlRGVzY3JpcHRpb24sXHJcbiAgICBwcm9maWxlVGl0bGVJbnB1dCxcclxuICAgIHByb2ZpbGVEZXNjcmlwdGlvbklucHV0LFxyXG4gICAgcHJvZmlsZUVkaXRGb3JtLFxyXG4gICAgYWRkQ2FyZEJ1dHRvbixcclxuICAgIGFkZENhcmRNb2RhbCxcclxuICAgIGFkZEltYWdlQ2xvc2VCdXR0b24sXHJcbiAgICBhZGRDYXJkVGl0bGUsXHJcbiAgICBhZGRDYXJkVVJMLFxyXG4gICAgYWRkQ2FyZFRpdGxlSW5wdXQsXHJcbiAgICBhZGRDYXJkVVJMSW5wdXQsXHJcbiAgICBjYXJkTGlzdEVsLFxyXG4gICAgYWRkQ2FyZEZvcm0sXHJcbiAgICBpbWFnZU1vZGFsLFxyXG4gICAgaW1hZ2VNb2RhbEltZyxcclxuICAgIGltYWdlTW9kYWxUZXh0LFxyXG4gICAgaW1hZ2VNb2RhbENsb3NlQnV0dG9uLFxyXG59IGZyb20gXCIuLi91dGlscy9jb25zdGFudHMuanNcIjtcclxuXHJcbmNvbnN0IHVzZXJJbmZvID0gbmV3IFVzZXJJbmZvKFxyXG4gICAgXCIucHJvZmlsZV9fdGl0bGVcIixcclxuICAgIFwiLnByb2ZpbGVfX2Rlc2NyaXB0aW9uXCIsXHJcbiAgICBcIi5wcm9maWxlX19pbWFnZVwiXHJcbik7XHJcbmNvbnN0IGltYWdlUG9wdXAgPSBuZXcgUG9wdXBXaXRoSW1hZ2VzKFwiI2NhcmQtaW1hZ2UtbW9kYWxcIik7XHJcblxyXG5wcm9maWxlRWRpdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgY29uc3QgdXNlckRhdGEgPSB1c2VySW5mby5nZXRVc2VySW5mbygpO1xyXG4gICAgcHJvZmlsZVRpdGxlSW5wdXQudmFsdWUgPSB1c2VyRGF0YS5uYW1lO1xyXG4gICAgcHJvZmlsZURlc2NyaXB0aW9uSW5wdXQudmFsdWUgPSB1c2VyRGF0YS5qb2I7XHJcbn0pO1xyXG5cclxuZnVuY3Rpb24gaGFuZGxlSW1hZ2VDbGljayhuYW1lLCBsaW5rKSB7XHJcbiAgICBjb25zdCBjYXJkRGF0YSA9IHsgbmFtZSwgbGluayB9O1xyXG4gICAgaW1hZ2VQb3B1cC5vcGVuKGNhcmREYXRhKTtcclxufVxyXG5cclxuZnVuY3Rpb24gaGFuZGxlRGVsZXRlQ2FyZChjYXJkKSB7XHJcbiAgICBkZWxldGVDYXJkUG9wdXAub3BlbigpO1xyXG4gICAgZGVsZXRlQ2FyZFBvcHVwLnNldFN1Ym1pdEZ1bmMoKCkgPT4ge1xyXG4gICAgICAgIGFwaS5kZWxldGVDYXJkKGNhcmQuZ2V0SWQoKSlcclxuICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY2FyZC5kZWxldGVDYXJkKCk7XHJcbiAgICAgICAgICAgICAgICBkZWxldGVDYXJkUG9wdXAuY2xvc2UoKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlcy5vaykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXMuanNvbigpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGBFcnJvcjogJHtyZXMuc3RhdHVzfWApO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFxyXG4gICAgICAgICAgICAgICAgICAgIFwiQW4gZXJyb3Igb2NjdXJyZWQgd2hpbGUgdHJ5aW5nIHRvIGRlbGV0ZSB0aGUgY2FyZDogJHtlcnJ9XCJcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldENhcmRFbGVtZW50KGNhcmREYXRhKSB7XHJcbiAgICBjb25zdCBjYXJkID0gbmV3IENhcmQoXHJcbiAgICAgICAgY2FyZERhdGEsXHJcbiAgICAgICAgXCIjY2FyZC10ZW1wbGF0ZVwiLFxyXG4gICAgICAgIGhhbmRsZUltYWdlQ2xpY2ssXHJcbiAgICAgICAgaGFuZGxlRGVsZXRlQ2FyZFxyXG4gICAgKTtcclxuICAgIHJldHVybiBjYXJkLmdldFZpZXcoKTtcclxufVxyXG5cclxuaW1hZ2VQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuZnVuY3Rpb24gY3JlYXRlQ2FyZChjYXJkRGF0YSkge1xyXG4gICAgY29uc3QgY2FyZCA9IG5ldyBDYXJkKFxyXG4gICAgICAgIGNhcmREYXRhLFxyXG4gICAgICAgIFwiI2NhcmQtdGVtcGxhdGVcIixcclxuICAgICAgICBoYW5kbGVJbWFnZUNsaWNrLFxyXG4gICAgICAgIGhhbmRsZURlbGV0ZUNhcmQsXHJcbiAgICAgICAgaGFuZGxlTGlrZUNsaWNrXHJcbiAgICApO1xyXG4gICAgcmV0dXJuIGNhcmQuZ2V0VmlldygpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjYXJkSW5mb1N1Ym1pdChjYXJkSWQpIHtcclxuICAgIGRlbGV0ZUNhcmRQb3B1cC5zZXRTdWJtaXRGdW5jKCgpID0+IHtcclxuICAgICAgICBhcGkuZGVsZXRlQ2FyZChjYXJkSWQpXHJcbiAgICAgICAgICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIGNhcmQuZGVsZXRlQ2FyZCgpO1xyXG4gICAgICAgICAgICAgICAgZGVsZXRlQ2FyZFBvcHVwLmNsb3NlKCk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC50aGVuKChyZXMpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChyZXMub2spIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7cmVzLnN0YXR1c31gKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gaGFuZGxlTGlrZUNsaWNrKGNhcmQpIHtcclxuICAgIGlmIChjYXJkLmlzTGlrZWQoKSA9PT0gdHJ1ZSkge1xyXG4gICAgICAgIGFwaS5hZGRMaWtlKGNhcmQuZ2V0SWQoKSlcclxuICAgICAgICAgICAgLnRoZW4oKHJlc3VsdCkgPT4ge30pXHJcbiAgICAgICAgICAgIC50aGVuKChyZXMpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChyZXMub2spIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7cmVzLnN0YXR1c31gKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGFwaS5kZWxldGVMaWtlKGNhcmQuZ2V0SWQoKSlcclxuICAgICAgICAgICAgLnRoZW4oKHJlc3VsdCkgPT4ge30pXHJcbiAgICAgICAgICAgIC50aGVuKChyZXMpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChyZXMub2spIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7cmVzLnN0YXR1c31gKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmNvbnN0IHNlY3Rpb24gPSBuZXcgU2VjdGlvbihcclxuICAgIHtcclxuICAgICAgICBpdGVtczogaW5pdGlhbENhcmRzLFxyXG4gICAgICAgIHJlbmRlcmVyOiByZW5kZXJDYXJkLFxyXG4gICAgfSxcclxuXHJcbiAgICBcIi5jYXJkc19fbGlzdFwiXHJcbik7XHJcblxyXG5mdW5jdGlvbiByZW5kZXJDYXJkKGRhdGEpIHtcclxuICAgIGNvbnN0IGNhcmQgPSBjcmVhdGVDYXJkKGRhdGEpO1xyXG4gICAgc2VjdGlvbi5hZGRJdGVtKGNhcmQpO1xyXG59XHJcblxyXG5jb25zdCBhZGRDYXJkUG9wdXAgPSBuZXcgUG9wdXBXaXRoRm9ybShcIiNhZGQtY2FyZC1tb2RhbFwiLCAoZm9ybURhdGEpID0+IHtcclxuICAgIGFkZENhcmRQb3B1cC5zZXRMb2FkaW5nKHRydWUpO1xyXG4gICAgY29uc3QgbmV3RGF0YSA9IHsgbmFtZTogZm9ybURhdGEudGl0bGUsIGxpbms6IGZvcm1EYXRhLnVybCB9O1xyXG4gICAgYXBpLmNyZWF0ZU5ld0NhcmQobmV3RGF0YSlcclxuICAgICAgICAudGhlbigocmVzdWx0KSA9PiB7XHJcbiAgICAgICAgICAgIHJlbmRlckNhcmQocmVzdWx0KTtcclxuICAgICAgICAgICAgYWRkQ2FyZFBvcHVwLmNsb3NlKCk7XHJcbiAgICAgICAgICAgIGFkZENhcmRGb3JtLnJlc2V0KCk7XHJcbiAgICAgICAgICAgIGFkZENhcmRGb3JtVmFsaWRhdG9yLmRpc2FibGVCdXR0b24oKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC50aGVuKChyZXMpID0+IHtcclxuICAgICAgICAgICAgaWYgKHJlcy5vaykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGBFcnJvcjogJHtyZXMuc3RhdHVzfWApO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmZpbmFsbHkoKCkgPT4ge1xyXG4gICAgICAgICAgICBhZGRDYXJkUG9wdXAuc2V0TG9hZGluZyhmYWxzZSk7XHJcbiAgICAgICAgfSk7XHJcbn0pO1xyXG5cclxuYWRkQ2FyZFBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG5hZGRDYXJkQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICBhZGRDYXJkUG9wdXAub3BlbigpO1xyXG59KTtcclxuXHJcbmNvbnN0IGVkaXRQcm9maWxlTW9kYWwgPSBuZXcgUG9wdXBXaXRoRm9ybShcclxuICAgIFwiI3Byb2ZpbGUtZWRpdC1tb2RhbFwiLFxyXG4gICAgKGZvcm1EYXRhKSA9PiB7XHJcbiAgICAgICAgZWRpdFByb2ZpbGVNb2RhbC5zZXRMb2FkaW5nKHRydWUpO1xyXG4gICAgICAgIGFwaS5zZXRQcm9maWxlSW5mbyh7XHJcbiAgICAgICAgICAgIG5hbWU6IGZvcm1EYXRhLnRpdGxlLFxyXG4gICAgICAgICAgICBhYm91dDogZm9ybURhdGEuZGVzY3JpcHRpb24sXHJcbiAgICAgICAgfSlcclxuICAgICAgICAgICAgLnRoZW4oKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdXNlckluZm8uc2V0VXNlckluZm8oe1xyXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IHJlc3VsdC5uYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiByZXN1bHQuYWJvdXQsXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHByb2ZpbGVFZGl0Rm9ybS5yZXNldCgpO1xyXG4gICAgICAgICAgICAgICAgZWRpdFByb2ZpbGVNb2RhbC5jbG9zZSgpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAudGhlbigocmVzKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVzLm9rKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYEVycm9yOiAke3Jlcy5zdGF0dXN9YCk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5maW5hbGx5KCgpID0+IHtcclxuICAgICAgICAgICAgICAgIGVkaXRQcm9maWxlTW9kYWwuc2V0TG9hZGluZyhmYWxzZSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfVxyXG4pO1xyXG5cclxuY29uc3QgZGVsZXRlQ2FyZFBvcHVwID0gbmV3IFBvcHVwV2l0aENvbmZpcm0oXCIjZGVsZXRlLWNhcmQtbW9kYWxcIik7XHJcblxyXG5kZWxldGVDYXJkUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbmVkaXRQcm9maWxlTW9kYWwuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbnByb2ZpbGVFZGl0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICBlZGl0UHJvZmlsZU1vZGFsLm9wZW4oKTtcclxufSk7XHJcblxyXG5jb25zdCBhZGRDYXJkRm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKHNldHRpbmdzLCBhZGRDYXJkRm9ybSk7XHJcbmFkZENhcmRGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuXHJcbmNvbnN0IGVkaXRQcm9maWxlRm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKHNldHRpbmdzLCBwcm9maWxlRWRpdEZvcm0pO1xyXG5lZGl0UHJvZmlsZUZvcm1WYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xyXG5cclxuY29uc3QgYXBpID0gbmV3IEFwaSh7XHJcbiAgICBiYXNlVXJsOiBcImh0dHBzOi8vYXJvdW5kLWFwaS5lbi50cmlwbGV0ZW4tc2VydmljZXMuY29tL3YxXCIsXHJcbiAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgYXV0aG9yaXphdGlvbjogXCIzNDMwOWZmNi05MTZmLTQyZjYtOWY1MC01OTRmYmI1MzNlMmNcIixcclxuICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcclxuICAgIH0sXHJcbn0pO1xyXG5cclxuYXBpLmdldEluaXRpYWxDYXJkcygpXHJcbiAgICAudGhlbigocmVzdWx0KSA9PiB7XHJcbiAgICAgICAgc2VjdGlvbi5yZW5kZXJJdGVtcyhyZXN1bHQpO1xyXG4gICAgfSlcclxuICAgIC50aGVuKChyZXMpID0+IHtcclxuICAgICAgICBpZiAocmVzLm9rKSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXMuanNvbigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYEVycm9yOiAke3Jlcy5zdGF0dXN9YCk7XHJcbiAgICB9KVxyXG4gICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XHJcbiAgICB9KTtcclxuXHJcbmFwaS5nZXRVc2VySW5mbygpXHJcbiAgICAudGhlbigocmVzdWx0KSA9PiB7XHJcbiAgICAgICAgdXNlckluZm8uc2V0VXNlckluZm8oe1xyXG4gICAgICAgICAgICBuYW1lOiByZXN1bHQubmFtZSxcclxuICAgICAgICAgICAgZGVzY3JpcHRpb246IHJlc3VsdC5hYm91dCxcclxuICAgICAgICB9KTtcclxuICAgICAgICB1c2VySW5mby5zZXRBdmF0YXIocmVzdWx0LmF2YXRhcik7XHJcbiAgICB9KVxyXG4gICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XHJcbiAgICB9KTtcclxuXHJcbmNvbnN0IGF2YXRhckVkaXRNb2RhbCA9IG5ldyBQb3B1cFdpdGhGb3JtKFwiI2F2YXRhci1lZGl0LW1vZGFsXCIsIChmb3JtRGF0YSkgPT4ge1xyXG4gICAgYXZhdGFyRWRpdE1vZGFsLnNldExvYWRpbmcodHJ1ZSk7XHJcbiAgICBhcGkuc2V0QXZhdGFyKGZvcm1EYXRhLmF2YXRhcilcclxuICAgICAgICAudGhlbigocmVzdWx0KSA9PiB7XHJcbiAgICAgICAgICAgIHVzZXJJbmZvLnNldEF2YXRhcihyZXN1bHQuYXZhdGFyKTtcclxuICAgICAgICAgICAgYXZhdGFyRWRpdE1vZGFsLmNsb3NlKCk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAudGhlbigocmVzKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChyZXMub2spIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXMuanNvbigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7cmVzLnN0YXR1c31gKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5maW5hbGx5KCgpID0+IHtcclxuICAgICAgICAgICAgYXZhdGFyRWRpdE1vZGFsLnNldExvYWRpbmcoZmFsc2UpO1xyXG4gICAgICAgIH0pO1xyXG59KTtcclxuXHJcbmF2YXRhckVkaXRNb2RhbC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5hdmF0YXJFZGl0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICBhdmF0YXJFZGl0TW9kYWwub3BlbigpO1xyXG59KTtcclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXNlckluZm8ge1xyXG4gICAgY29uc3RydWN0b3IobmFtZVNlbGVjdG9yLCBkZXNjcmlwdGlvblNlbGVjdG9yLCBhdmF0YXJTZWxlY3Rvcikge1xyXG4gICAgICAgIHRoaXMuX25hbWVFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihuYW1lU2VsZWN0b3IpO1xyXG4gICAgICAgIHRoaXMuX2Rlc2NyaXB0aW9uRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZGVzY3JpcHRpb25TZWxlY3Rvcik7XHJcbiAgICAgICAgdGhpcy5fYXZhdGFyRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYXZhdGFyU2VsZWN0b3IpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFVzZXJJbmZvKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIG5hbWU6IHRoaXMuX25hbWVFbGVtZW50LnRleHRDb250ZW50LFxyXG4gICAgICAgICAgICBqb2I6IHRoaXMuX2Rlc2NyaXB0aW9uRWxlbWVudC50ZXh0Q29udGVudCxcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIHNldFVzZXJJbmZvKHsgbmFtZSwgZGVzY3JpcHRpb24gfSkge1xyXG4gICAgICAgIHRoaXMuX25hbWVFbGVtZW50LnRleHRDb250ZW50ID0gbmFtZTtcclxuICAgICAgICB0aGlzLl9kZXNjcmlwdGlvbkVsZW1lbnQudGV4dENvbnRlbnQgPSBkZXNjcmlwdGlvbjtcclxuICAgIH1cclxuXHJcbiAgICBzZXRBdmF0YXIoYXZhdGFyKSB7XHJcbiAgICAgICAgdGhpcy5fYXZhdGFyRWxlbWVudC5zcmMgPSBhdmF0YXI7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhJbWFnZXMgZXh0ZW5kcyBQb3B1cCB7XHJcbiAgICBjb25zdHJ1Y3Rvcihtb2RhbFNlbGVjdG9yKSB7XHJcbiAgICAgICAgc3VwZXIoeyBtb2RhbFNlbGVjdG9yIH0pO1xyXG4gICAgICAgIHRoaXMuX21vZGFsSW1hZ2UgPSB0aGlzLl9tb2RhbEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9faW1hZ2VcIik7XHJcbiAgICAgICAgdGhpcy5fbW9kYWxUaXRsZSA9IHRoaXMuX21vZGFsRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICAgICAgICBcIi5tb2RhbF9fZGVzY3JpcHRpb25cIlxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgb3BlbihkYXRhKSB7XHJcbiAgICAgICAgdGhpcy5fbW9kYWxJbWFnZS5zcmMgPSBkYXRhLmxpbms7XHJcbiAgICAgICAgdGhpcy5fbW9kYWxJbWFnZS5hbHQgPSBkYXRhLm5hbWU7XHJcbiAgICAgICAgdGhpcy5fbW9kYWxUaXRsZS50ZXh0Q29udGVudCA9IGRhdGEubmFtZTtcclxuICAgICAgICBzdXBlci5vcGVuKCk7XHJcbiAgICB9XHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VjdGlvbiB7XHJcbiAgICBjb25zdHJ1Y3Rvcih7IGl0ZW1zLCByZW5kZXJlciB9LCBjb250YWluZXIpIHtcclxuICAgICAgICB0aGlzLl9pdGVtcyA9IGl0ZW1zO1xyXG4gICAgICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XHJcbiAgICAgICAgdGhpcy5fY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjb250YWluZXIpO1xyXG4gICAgfVxyXG4gICAgcmVuZGVySXRlbXMoaXRlbXMpIHtcclxuICAgICAgICBpdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuX3JlbmRlcmVyKGl0ZW0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgYWRkSXRlbShlbGVtZW50KSB7XHJcbiAgICAgICAgdGhpcy5fY29udGFpbmVyLnByZXBlbmQoZWxlbWVudCk7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhDb25maXJtIGV4dGVuZHMgUG9wdXAge1xyXG4gICAgY29uc3RydWN0b3IobW9kYWxTZWxlY3Rvcikge1xyXG4gICAgICAgIHN1cGVyKHsgbW9kYWxTZWxlY3RvciB9KTtcclxuICAgICAgICB0aGlzLl9tb2RhbEZvcm0gPSB0aGlzLl9tb2RhbEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fZm9ybVwiKTtcclxuICAgICAgICB0aGlzLl9zdWJtaXRCdXR0b24gPSB0aGlzLl9tb2RhbEZvcm0ucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fYnV0dG9uXCIpO1xyXG4gICAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvblRleHRDb250ZW50ID0gdGhpcy5fc3VibWl0QnV0dG9uLnRleHRDb250ZW50O1xyXG4gICAgfVxyXG5cclxuICAgIHNldFN1Ym1pdEZ1bmMoU3VibWl0RnVuYykge1xyXG4gICAgICAgIHRoaXMuX1N1Ym1pdEZ1bmMgPSBTdWJtaXRGdW5jO1xyXG4gICAgfVxyXG5cclxuICAgIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICAgICAgdGhpcy5fbW9kYWxGb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGV2dCkgPT4ge1xyXG4gICAgICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgdGhpcy5fU3VibWl0RnVuYygpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHNldExvYWRpbmcoaXNMb2FkaW5nLCBsb2FkaW5nVGV4dCA9IFwiU2F2aW5nLi4uXCIpIHtcclxuICAgICAgICBpZiAoaXNMb2FkaW5nKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9IGxvYWRpbmdUZXh0O1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9IHRoaXMuX3N1Ym1pdEJ1dHRvblRleHRDb250ZW50O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBBcGkge1xyXG4gICAgY29uc3RydWN0b3Iob3B0aW9ucykge1xyXG4gICAgICAgIHRoaXMuX2Jhc2VVcmwgPSBvcHRpb25zLmJhc2VVcmw7XHJcbiAgICAgICAgdGhpcy5faGVhZGVycyA9IG9wdGlvbnMuaGVhZGVycztcclxuICAgIH1cclxuXHJcbiAgICBnZXRJbml0aWFsQ2FyZHMoKSB7XHJcbiAgICAgICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzYCwge1xyXG4gICAgICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICAgIH0pLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICAgICAgICBpZiAocmVzLm9rKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYEVycm9yOiAke3Jlcy5zdGF0dXN9YCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlTmV3Q2FyZChkYXRhKSB7XHJcbiAgICAgICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzYCwge1xyXG4gICAgICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgICAgICAgICBuYW1lOiBkYXRhLm5hbWUsXHJcbiAgICAgICAgICAgICAgICBsaW5rOiBkYXRhLmxpbmssXHJcbiAgICAgICAgICAgIH0pLFxyXG4gICAgICAgIH0pLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICAgICAgICBpZiAocmVzLm9rKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYEVycm9yOiAke3Jlcy5zdGF0dXN9YCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgZGVsZXRlQ2FyZChjYXJkSWQpIHtcclxuICAgICAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvJHtjYXJkSWR9YCwge1xyXG4gICAgICAgICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgICAgfSkudGhlbigocmVzKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChyZXMub2spIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXMuanNvbigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7cmVzLnN0YXR1c31gKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRVc2VySW5mbygpIHtcclxuICAgICAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWVgLCB7XHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJHRVRcIixcclxuICAgICAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgICB9KS50aGVuKChyZXMpID0+IHtcclxuICAgICAgICAgICAgaWYgKHJlcy5vaykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGBFcnJvcjogJHtyZXMuc3RhdHVzfWApO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHNldFByb2ZpbGVJbmZvKHsgbmFtZSwgYWJvdXQgfSkge1xyXG4gICAgICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZWAsIHtcclxuICAgICAgICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICAgICAgICAgIG5hbWU6IG5hbWUsXHJcbiAgICAgICAgICAgICAgICBhYm91dDogYWJvdXQsXHJcbiAgICAgICAgICAgIH0pLFxyXG4gICAgICAgIH0pLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICAgICAgICBpZiAocmVzLm9rKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYEVycm9yOiAke3Jlcy5zdGF0dXN9YCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0QXBwSW5mbygpIHtcclxuICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwoW3RoaXMuZ2V0VXNlckluZm8oKSwgdGhpcy5nZXRJbml0aWFsQ2FyZHMoKV0pO1xyXG4gICAgfVxyXG5cclxuICAgIGFkZExpa2UoY2FyZElkKSB7XHJcbiAgICAgICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzLyR7Y2FyZElkfS9saWtlc2AsIHtcclxuICAgICAgICAgICAgbWV0aG9kOiBcIlBVVFwiLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICAgIH0pLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICAgICAgICBpZiAocmVzLm9rKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYEVycm9yOiAke3Jlcy5zdGF0dXN9YCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgZGVsZXRlTGlrZShjYXJkSWQpIHtcclxuICAgICAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvJHtjYXJkSWR9L2xpa2VzYCwge1xyXG4gICAgICAgICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgICAgfSkudGhlbigocmVzKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChyZXMub2spIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXMuanNvbigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7cmVzLnN0YXR1c31gKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRBdmF0YXIobGluaykge1xyXG4gICAgICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZS9hdmF0YXJgLCB7XHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgICAgICAgICBhdmF0YXI6IGxpbmssXHJcbiAgICAgICAgICAgIH0pLFxyXG4gICAgICAgIH0pLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICAgICAgICBpZiAocmVzLm9rKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYEVycm9yOiAke3Jlcy5zdGF0dXN9YCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuIl0sIm5hbWVzIjpbIkNhcmQiLCJjb25zdHJ1Y3RvciIsIl9yZWYiLCJjYXJkU2VsZWN0b3IiLCJoYW5kbGVJbWFnZUNsaWNrIiwiaGFuZGxlRGVsZXRlQ2FyZCIsImhhbmRsZUxpa2VDbGljayIsIm5hbWUiLCJsaW5rIiwiX2lkIiwiaXNMaWtlZCIsInRoaXMiLCJfbmFtZSIsIl9saW5rIiwiX2NhcmRTZWxlY3RvciIsIl9oYW5kbGVJbWFnZUNsaWNrIiwiX2hhbmRsZURlbGV0ZUNhcmQiLCJfaGFuZGxlTGlrZUNsaWNrIiwiX2NhcmRJZCIsIl9saWtlQnV0dG9uIiwiX2lzTGlrZWQiLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJfY2FyZEVsZW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiYWRkRXZlbnRMaXN0ZW5lciIsImNsYXNzTGlzdCIsInRvZ2dsZSIsIl9jYXJkSW1hZ2VFbCIsImdldFZpZXciLCJkb2N1bWVudCIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJfY2FyZHRpdGxlRWwiLCJzcmMiLCJhbHQiLCJ0ZXh0Q29udGVudCIsImdldElkIiwiZGVsZXRlQ2FyZCIsInJlbW92ZSIsIkZvcm1WYWxpZGF0b3IiLCJzZXR0aW5ncyIsImZvcm1FbCIsIl9pbnB1dFNlbGVjdG9yIiwiaW5wdXRTZWxlY3RvciIsIl9zdWJtaXRCdXR0b25TZWxlY3RvciIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiX2luYWN0aXZlQnV0dG9uQ2xhc3MiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiX2lucHV0RXJyb3JDbGFzcyIsImlucHV0RXJyb3JDbGFzcyIsIl9mb3JtIiwiX3Nob3dJbnB1dEVycm9yIiwiaW5wdXRFbCIsImVycm9yTWVzc2FnZUVsIiwiaWQiLCJhZGQiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsIl9lcnJvckNsYXNzIiwiX2hpZGVJbnB1dEVycm9yIiwiX2NoZWNrSW5wdXRWYWxpZGl0eSIsInZhbGlkaXR5IiwidmFsaWQiLCJfdG9nZ2xlQnV0dG9uU3RhdGUiLCJmb3VuZEludmFsaWQiLCJfaW5wdXRMaXN0IiwiZm9yRWFjaCIsImRpc2FibGVCdXR0b24iLCJfc3VibWl0QnV0dG9uIiwiZGlzYWJsZWQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZSIsImVuYWJsZVZhbGlkYXRpb24iLCJwcmV2ZW50RGVmYXVsdCIsIlBvcHVwIiwibW9kYWxTZWxlY3RvciIsIl9tb2RhbEVsZW1lbnQiLCJvcGVuIiwibW9kYWwiLCJfaGFuZGxlRXNjQ2xvc2UiLCJfaGFuZGxlQ2xvc2VPdmVybGF5IiwiY2xvc2UiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwia2V5IiwidGFyZ2V0IiwiY29udGFpbnMiLCJzZXRFdmVudExpc3RlbmVycyIsIlBvcHVwV2l0aEZvcm0iLCJoYW5kbGVGb3JtU3VibWl0Iiwic3VwZXIiLCJfaGFuZGxlRm9ybVN1Ym1pdCIsIl9zdWJtaXRCdXR0b25UZXh0Q29udGVudCIsIl9nZXRJbnB1dFZhbHVlcyIsIl9mb3JtVmFsdWVzIiwiaW5wdXQiLCJ2YWx1ZSIsImV2dCIsInNldExvYWRpbmciLCJpc0xvYWRpbmciLCJsb2FkaW5nVGV4dCIsImFyZ3VtZW50cyIsImxlbmd0aCIsInVuZGVmaW5lZCIsInByb2ZpbGVFZGl0QnV0dG9uIiwicHJvZmlsZUVkaXRNb2RhbCIsInByb2ZpbGVUaXRsZUlucHV0IiwicHJvZmlsZURlc2NyaXB0aW9uSW5wdXQiLCJwcm9maWxlRWRpdEZvcm0iLCJhdmF0YXJFZGl0QnV0dG9uIiwiYWRkQ2FyZEJ1dHRvbiIsImFkZENhcmRNb2RhbCIsImFkZENhcmRGb3JtIiwiZXJyb3JDbGFzcyIsInVzZXJJbmZvIiwibmFtZVNlbGVjdG9yIiwiZGVzY3JpcHRpb25TZWxlY3RvciIsImF2YXRhclNlbGVjdG9yIiwiX25hbWVFbGVtZW50IiwiX2Rlc2NyaXB0aW9uRWxlbWVudCIsIl9hdmF0YXJFbGVtZW50IiwiZ2V0VXNlckluZm8iLCJqb2IiLCJzZXRVc2VySW5mbyIsImRlc2NyaXB0aW9uIiwic2V0QXZhdGFyIiwiYXZhdGFyIiwiaW1hZ2VQb3B1cCIsIl9tb2RhbEltYWdlIiwiX21vZGFsVGl0bGUiLCJkYXRhIiwiY2FyZERhdGEiLCJjYXJkIiwiZGVsZXRlQ2FyZFBvcHVwIiwic2V0U3VibWl0RnVuYyIsImFwaSIsInRoZW4iLCJyZXMiLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0Iiwic3RhdHVzIiwiY2F0Y2giLCJlcnJvciIsImNvbnNvbGUiLCJhZGRMaWtlIiwicmVzdWx0IiwiZXJyIiwiZGVsZXRlTGlrZSIsInVzZXJEYXRhIiwic2VjdGlvbiIsImNvbnRhaW5lciIsIml0ZW1zIiwicmVuZGVyZXIiLCJfaXRlbXMiLCJfcmVuZGVyZXIiLCJfY29udGFpbmVyIiwicmVuZGVySXRlbXMiLCJpdGVtIiwiYWRkSXRlbSIsImVsZW1lbnQiLCJwcmVwZW5kIiwicmVuZGVyQ2FyZCIsImFkZENhcmRQb3B1cCIsImZvcm1EYXRhIiwibmV3RGF0YSIsInRpdGxlIiwidXJsIiwiY3JlYXRlTmV3Q2FyZCIsInJlc2V0IiwiYWRkQ2FyZEZvcm1WYWxpZGF0b3IiLCJmaW5hbGx5IiwiZWRpdFByb2ZpbGVNb2RhbCIsInNldFByb2ZpbGVJbmZvIiwiYWJvdXQiLCJfbW9kYWxGb3JtIiwiU3VibWl0RnVuYyIsIl9TdWJtaXRGdW5jIiwib3B0aW9ucyIsIl9iYXNlVXJsIiwiYmFzZVVybCIsIl9oZWFkZXJzIiwiaGVhZGVycyIsImdldEluaXRpYWxDYXJkcyIsImZldGNoIiwibWV0aG9kIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJjYXJkSWQiLCJnZXRBcHBJbmZvIiwiYWxsIiwiYXV0aG9yaXphdGlvbiIsImF2YXRhckVkaXRNb2RhbCJdLCJzb3VyY2VSb290IjoiIn0=